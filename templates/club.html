{% extends "base.html" %} {% block title %}OTB - {{ club.name }}{% endblock %}
{% block meta_description %}Perfil do clube {{ club.name }} na OTB, incluindo
torneios, membros e estatísticas.{% endblock %} {% block content %}

<div class="container-xl">
  <!-- Header e Info Principal do Clube -->
  <div class="row">
    <div class="col-12">
      <div class="page-header d-print-none">
        <div class="row align-items-center">
          <div class="col-auto">
            <!-- Ícone/Logo do Clube (Exemplo: Peça de Xadrez) -->
            <span
              class="avatar avatar-xl"
              style="background-image: url({{ club.logo or '/static/avatar.jpg' }})"
            >
            </span>
          </div>
          <div class="col">
            <div class="row align-items-center g-2">
              <div class="col-auto">
                <h1 class="page-title">{{ club.name }}</h1>
              </div>
              <!-- Botão de Seguir/Ações (Mockup) -->
              <div class="col-auto ms-auto">
                <a href="#" class="btn btn-primary"> Follow </a>
              </div>
            </div>
            <div class="text-muted small">
              {% if club.region or club.country %}
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="icon icon-tabler icon-tabler-map-pin"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                stroke-width="2"
                stroke="currentColor"
                fill="none"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                <path d="M9 11a3 3 0 1 0 6 0a3 3 0 0 0 -6 0" />
                <path
                  d="M17.657 16.657l-4.243 4.243a2 2 0 0 1 -2.827 0l-4.244 -4.243a8 8 0 1 1 11.314 0z"
                />
              </svg>
              {% if club.region %}{{ club.region }}{% endif %}{% if club.region
              and club.country %}, {% endif %}{{ club.country }} {% endif %}
              <a href="mailto:{{ club.email }}" class="ms-3 text-muted">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  class="icon icon-tabler icon-tabler-mail"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  stroke-width="2"
                  stroke="currentColor"
                  fill="none"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                  <path
                    d="M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10z"
                  />
                  <path d="M3 7l9 6l9 -6" />
                </svg>
                {{ club.email }}
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- CONTEÚDO PRINCIPAL (Markdown, Repositórios/Torneios) e SIDEBAR -->
  <div class="row g-4 mt-3">
    <!-- Coluna Principal (8/12) -->
    <div class="col-lg-8">
      <h1 class="fw-bold mb-3">
        Essa secção está em Desenvolvimento. Em Breve!
      </h1>
      <div class="card card-md mb-4">
        <div class="card-header">
          <h2 class="card-title">Club Description</h2>
        </div>
        <div class="card-body markdown">
          {% if club.description %} {{ club.description | markdown }} {% else %}
          <h3>Este clube ainda não forneceu uma descrição detalhada</h3>
          {% endif %}
        </div>
      </div>

      <!-- SEÇÃO DE REPOSITORIES (Tournaments) -->
      <h2 class="h3 mb-3">Tournaments</h2>
      <div class="row row-cards">
        <!-- Mockup de Card de Torneio (Substitua por um loop Jinja real no futuro) -->
        <div class="col-md-6">
          <div class="card">
            <div class="card-body">
              <h4 class="card-title">
                <a href="/club/{{ club.name }}/tournament/Open-Natal-2025"
                  >Open Natal 2025</a
                >
                <span class="badge bg-green-lt">Public</span>
              </h4>
              <p class="text-muted">
                Grande torneio aberto com premiação total de R$ 10.000, válido
                para rating CBX/FIDE.
              </p>
              <div class="mt-4 text-muted">
                <span class="d-inline-block me-3">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="icon text-yellow"
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    stroke-width="2"
                    stroke="currentColor"
                    fill="none"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  >
                    <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                    <path d="M15 10l-4 4l6 6l4 -2l-10 -10" />
                    <path
                      d="M21 5c-2.28 -2.28 -4.11 -4.11 -6.5 -4.5c-4 -.6 -6 2.5 -6 5.5c0 1.5 -1.5 3 -2 4c-1.8 .2 -2.5 1.7 -2.5 4c0 1.9 .8 3.5 2 4.5"
                    />
                  </svg>
                  Classical
                </span>
                <span class="d-inline-block me-3">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="icon text-blue"
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    stroke-width="2"
                    stroke="currentColor"
                    fill="none"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  >
                    <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                    <path d="M12 18l-2 1l-1 -2" />
                    <path d="M11 15v3" />
                    <path
                      d="M12 3c7.2 0 9 1.8 9 9s-1.8 9 -9 9s-9 -1.8 -9 -9s1.8 -9 9 -9z"
                    />
                    <path d="M12 7l-2 1l-1 2" />
                    <path d="M11 11v3" />
                    <path d="M12 18l2 1l1 -2" />
                    <path d="M13 15v3" />
                    <path d="M12 7l2 1l1 2" />
                    <path d="M13 11v3" />
                  </svg>
                  CBX/FIDE
                </span>
                <span class="d-inline-block me-3">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="icon text-red"
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    stroke-width="2"
                    stroke="currentColor"
                    fill="none"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  >
                    <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                    <path
                      d="M19.5 13.572l-7.5 7.428l-7.5 -7.428m0 0a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"
                    />
                  </svg>
                  1.2k views
                </span>
              </div>
            </div>
          </div>
        </div>
        <!-- Fim Mockup -->

        <div class="col-12">
          <div class="card">
            <div class="card-body">
              <h2 class="card-title">More Tournaments</h2>
              {% if club.tournaments and club.tournaments|length > 0 %}
              <ul class="list-unstyled space-y-2">
                {% for t in club.tournaments %}
                <li class="d-flex justify-content-between">
                  <div>
                    <a
                      href="/club/{{ club.name | urlencode }}/tournament/{{ t.encoded_title }}"
                    >
                      class="text-decoration-none fw-semibold" >{{ t.title }}
                    </a>
                    <span class="badge bg-blue-lt ms-2">Public</span>
                    <div class="text-muted small">
                      {{ t.place }} | {{ t.start_date.strftime('%d/%m/%Y') }}
                    </div>
                  </div>
                </li>
                {% endfor %}
              </ul>
              {% else %}
              <p class="text-muted">
                Nenhum torneio registrado neste clube até o momento.
              </p>
              {% endif %}
            </div>
          </div>
        </div>
      </div>
      <!-- FIM SEÇÃO TOURNEY -->
    </div>

    <!-- Coluna Lateral (4/12) - SIDEBAR -->
    <div class="col-lg-4">
      <!-- Patrocinadores (Admins) -->
      <div class="card card-sm mb-4">
        <div class="card-header">
          <h2 class="card-title">Admins</h2>
        </div>
        <div class="card-body">
          <div class="d-flex align-items-center mb-2">
            <span
              class="avatar avatar-sm rounded-circle me-3"
              style="
                background-image: url(https://placehold.co/100x100/60E0A0/000?text=Owner);
              "
            ></span>
            <div>
              <p class="mb-0 fw-semibold">{{ club.owner.username }}</p>
              <div class="text-muted small">Owner</div>
            </div>
          </div>
          <div class="d-flex align-items-center mb-2">
            <span
              class="avatar avatar-sm rounded-circle me-3"
              style="
                background-image: url(https://placehold.co/100x100/F4D03F/000?text=Co);
              "
            ></span>
            <div>
              <p class="mb-0 fw-semibold">CoordenadorAdmin</p>
              <div class="text-muted small">Coordenador de Torneios</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Pessoas (Membros) -->
      <div class="card card-sm mb-4">
        <div class="card-header">
          <h2 class="card-title">Members</h2>
        </div>
        <div class="card-body">
          <!-- Avatares Mockup (similares ao da imagem) -->
          <div class="avatar-list avatar-list-stacked mb-3">
            <span
              class="avatar avatar-md rounded-circle"
              style="
                background-image: url(https://placehold.co/100x100/A0CED9/000?text=JD);
              "
            ></span>
            <span
              class="avatar avatar-md rounded-circle"
              style="
                background-image: url(https://placehold.co/100x100/F08080/000?text=AM);
              "
            ></span>
            <span
              class="avatar avatar-md rounded-circle"
              style="
                background-image: url(https://placehold.co/100x100/F4D03F/000?text=RS);
              "
            ></span>
            <span
              class="avatar avatar-md rounded-circle"
              style="
                background-image: url(https://placehold.co/100x100/85C1E9/000?text=LF);
              "
            ></span>
            <span class="avatar avatar-md rounded-circle">+12</span>
          </div>
          <a href="#" class="btn btn-sm btn-outline-primary w-100"
            >View all members</a
          >
        </div>
      </div>

      <!-- Top Languages (Top Openings) -->
      <div class="card card-sm mb-4">
        <div class="card-header">
          <h2 class="card-title">Top Openings</h2>
        </div>
        <div class="list-group list-group-flush">
          <a
            href="#"
            class="list-group-item list-group-item-action d-flex justify-content-between align-items-center"
          >
            <div>
              <span
                class="avatar avatar-sm rounded-circle me-2"
                style="background-color: #206bc4"
              ></span>
              Sicilian Defense
            </div>
            <span class="badge bg-primary-lt">35.2%</span>
          </a>
          <a
            href="#"
            class="list-group-item list-group-item-action d-flex justify-content-between align-items-center"
          >
            <div>
              <span
                class="avatar avatar-sm rounded-circle me-2"
                style="background-color: #00bf78"
              ></span>
              Ruy Lopez
            </div>
            <span class="badge bg-green-lt">22.8%</span>
          </a>
          <a
            href="#"
            class="list-group-item list-group-item-action d-flex justify-content-between align-items-center"
          >
            <div>
              <span
                class="avatar avatar-sm rounded-circle me-2"
                style="background-color: #fab005"
              ></span>
              Queen's Gambit Declined
            </div>
            <span class="badge bg-yellow-lt">15.5%</span>
          </a>
          <a
            href="#"
            class="list-group-item list-group-item-action d-flex justify-content-between align-items-center"
          >
            <div>
              <span
                class="avatar avatar-sm rounded-circle me-2"
                style="background-color: #fa5252"
              ></span>
              Caro-Kann Defense
            </div>
            <span class="badge bg-red-lt">10.3%</span>
          </a>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
